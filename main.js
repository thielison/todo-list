(()=>{"use strict";let t=null;const e=()=>{const t=document.getElementById("add-project-button"),e=document.getElementById("project-name-input-form");if("flex"===e.style.display&&"none"===t.style.display)return e.style.display="none",void(t.style.display="flex");e.style.display="flex",t.style.display="none"},n=()=>{document.querySelectorAll("#title, #description, #due-date").forEach((t=>{t.value=""}));const t=document.querySelector(".todo-input-information-container");"none"!==t.style.display?t.style.display="none":t.style.display="flex"},o=(n,o)=>{const l=document.querySelector(".projects"),a=((t,e)=>{let n=document.createElement("li");return n.textContent=t,n.setAttribute("data-index",e),n.classList.add("project"),n})(n,o);(e=>{e.addEventListener("click",(e=>{"delete-btn"!==e.target.className?(t=e.target.dataset.index,(t=>{const e=c.getProjects();document.querySelector(".tasks-container .tasks-header").textContent=e[t].projectName})(t),d(t),document.querySelector(".add-task-button").style.display="block"):(t=>{(t=>{t.parentElement.remove();let e=document.querySelectorAll(".project");for(let t=0;t<e.length;t++)e[t].setAttribute("data-index",t)})(t.target),c.removeProject(t.target.parentElement.dataset.index)})(e)}))})(a);const r=(()=>{const t=document.createElement("span");return t.className="delete-btn",t})();a.appendChild(r),l.append(a),e()},d=t=>{const e=c.getProjects(),n=document.querySelector(".task-list");n.textContent="";const o=document.createElement("ul");for(let n=0;n<e[t].todos.length;n++){const d=document.createElement("li");d.setAttribute("data-index",n);const c=document.createElement("div");c.className="to-do";const l=document.createElement("input");l.setAttribute("type","checkbox"),l.setAttribute("id",`todo${n}`),l.setAttribute("name",`todo${n}`);const a=document.createElement("label");a.setAttribute("for",`todo${n}`),a.textContent=e[t].todos[n].title;const r=document.createElement("p");r.textContent="some due date";const s=document.createElement("button");s.className="edit-to-do",s.textContent="Edit todo btn";const u=document.createElement("button");u.className="delete-to-do",u.textContent="Delete todo btn",c.append(l,a,r,s,u),d.append(c),o.append(d)}var d;n.append(o),d=e[t].todos.length,document.getElementById("task-count").textContent=d},c=(()=>{const t=[];return{addNewProject:()=>{const e=document.getElementById("project-name-input");let n=t.length,d=e.value;""!==d&&(t.push({id:n,projectName:d,todos:[]}),o(d,n),e.value="")},removeProject:e=>{e>-1&&t.splice(e,1);for(let e=0;e<t.length;e++)t[e].id=e},getProjects:()=>t,addNewTodoToAProject:(e,n)=>{n<0||n>=t.length?alert("Invalid project index"):(t[n].todos.push(e),d(n),console.log(t))}}})();document.getElementById("add-project-button").addEventListener("click",e),document.getElementById("project-name-input-form").addEventListener("click",(t=>{t.preventDefault(),"Add"===t.target.textContent?c.addNewProject():"Cancel"===t.target.textContent&&e()})),document.querySelector(".tasks-container .add-task-button").addEventListener("click",(()=>{document.querySelector(".todo-input-information-container").style.display="block"})),document.querySelector("body").addEventListener("click",(e=>{if("btn-add-todo"===e.target.id){const o=(t=>{t.preventDefault();const e=new FormData(document.getElementById("todo-input-form"));return{title:e.get("title"),description:e.get("description"),dueDate:document.getElementById("due-date").value}})(e);c.addNewTodoToAProject(o,t),n()}else"btn-cancel-todo"===e.target.id&&n()}))})();
//# sourceMappingURL=main.js.map