{"version":3,"file":"main.js","mappings":"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","sources":["webpack://todo-list/./src/modules/dom-manager.js","webpack://todo-list/./src/modules/projects-and-todos-manager.js","webpack://todo-list/./src/index.js"],"sourcesContent":["import { projects as projectsAndTodosManager } from \"./projects-and-todos-manager.js\";\r\n\r\n// Export the updated data index of last project clicked\r\n// This data index will be used to add todos to a specific project\r\nexport let dataIndexOfLastProjectClicked = null;\r\n\r\n// FUNCTIONS RESPONSIBLE FOR MANAGING PROJECTS\r\n// Shows or hides both the form to input Project Name and the \"Add Project\" button\r\nconst toggleHideOrShowInputForProjectName = () => {\r\n    const addProjectButton = document.getElementById(\"add-project-button\");\r\n    const inputFormForProjectName = document.getElementById(\"project-name-input-form\");\r\n\r\n    if (inputFormForProjectName.style.display === \"flex\" && addProjectButton.style.display === \"none\") {\r\n        inputFormForProjectName.style.display = \"none\";\r\n        addProjectButton.style.display = \"flex\";\r\n        return;\r\n    }\r\n\r\n    inputFormForProjectName.style.display = \"flex\";\r\n    addProjectButton.style.display = \"none\";\r\n};\r\n\r\nconst toggleHideOrShowInputForToDoInfo = () => {\r\n    const toDoInformationForm = document.querySelector(\".todo-input-information-container\");\r\n\r\n    if (toDoInformationForm.style.display === \"none\") {\r\n        toDoInformationForm.style.display = \"flex\";\r\n        return;\r\n    }\r\n\r\n    toDoInformationForm.style.display = \"none\";\r\n};\r\n\r\nconst handleClickOnAddTaskButton = () => {\r\n    document.querySelector(\".todo-input-information-container\").style.display = \"block\";\r\n};\r\n\r\n// Define a function to handle project name clicks\r\nconst projectNameClickEventHandler = () => {\r\n    // Update the tasks header with the project name\r\n    const updateProjectsHeaderOnPage = (index) => {\r\n        const projectsArray = projectsAndTodosManager.getProjects();\r\n        const tasksHeader = document.querySelector(\".tasks-container .tasks-header\");\r\n        tasksHeader.textContent = projectsArray[index].projectName;\r\n    };\r\n\r\n    // Display the \"add task\" button on the page\r\n    const showAddTaskButton = () => {\r\n        const addTaskButton = document.querySelector(\".add-task-button\");\r\n        addTaskButton.style.display = \"block\";\r\n    };\r\n\r\n    // Handle a project name click event\r\n    const projectNameClicked = (event) => {\r\n        dataIndexOfLastProjectClicked = event.target.dataset.index;\r\n        updateProjectsHeaderOnPage(dataIndexOfLastProjectClicked);\r\n        displayAllTodosOfAProject(dataIndexOfLastProjectClicked);\r\n        showAddTaskButton();\r\n    };\r\n\r\n    return {\r\n        projectNameClicked,\r\n    };\r\n};\r\n\r\nconst removeProjectFromDOM = (project) => {\r\n    // Removes a project from the DOM\r\n    project.parentElement.remove();\r\n\r\n    // Updates the data-index attribute of all remaining projects in the DOM\r\n    // to reflect their new position in the projectsManager.projects array\r\n    let allProjects = document.querySelectorAll(\".project\");\r\n    for (let i = 0; i < allProjects.length; i++) {\r\n        allProjects[i].setAttribute(\"data-index\", i);\r\n    }\r\n};\r\n\r\n// Function to handle delete project button click\r\nconst handleClickOnDeleteProjectButton = (e) => {\r\n    // Remove the project from the DOM\r\n    removeProjectFromDOM(e.target);\r\n    // And remove the project from the projects array\r\n    projectsAndTodosManager.removeProject(e.target.parentElement.dataset.index);\r\n};\r\n\r\n// Delete project on each project name on the DOM\r\nconst createDeleteProjectButton = () => {\r\n    const deleteBtn = document.createElement(\"span\");\r\n    deleteBtn.className = \"delete-btn\";\r\n    return deleteBtn;\r\n};\r\n\r\n// Create a new list item that hold the name of the project\r\n// The data-index attribute set here on each project in the DOM\r\n// corresponds exactly to the index of the array that holds the Projects\r\nconst createListItemWithProjectName = (projectName, index) => {\r\n    let li = document.createElement(\"li\");\r\n    li.textContent = projectName;\r\n    li.setAttribute(\"data-index\", index);\r\n    li.classList.add(\"project\");\r\n\r\n    return li;\r\n};\r\n\r\n// Function do add an event listener to each list item (project name)\r\nconst addEventListenerToProjectNameListItem = (li) => {\r\n    li.addEventListener(\"click\", (e) => {\r\n        // Check if the clicked element is the delete button\r\n        if (e.target.className === \"delete-btn\") {\r\n            handleClickOnDeleteProjectButton(e);\r\n            return;\r\n        } else {\r\n            const projectsEventHandler = projectNameClickEventHandler();\r\n            projectsEventHandler.projectNameClicked(e);\r\n        }\r\n    });\r\n};\r\n\r\n// Function to append a new project name to the DOM\r\nconst appendProjectNameToDOM = (projectName, index) => {\r\n    // Select the projects unordered list from the DOM\r\n    const ul = document.querySelector(\".projects\");\r\n\r\n    // Create a new list item with project name and data-index\r\n    const li = createListItemWithProjectName(projectName, index);\r\n\r\n    // Add an event listener to each project (list item)\r\n    addEventListenerToProjectNameListItem(li);\r\n\r\n    // Create a delete button for the project\r\n    const deleteBtn = createDeleteProjectButton();\r\n\r\n    li.appendChild(deleteBtn);\r\n    ul.append(li);\r\n\r\n    // Toggle the visibility of the input for the project name\r\n    toggleHideOrShowInputForProjectName();\r\n};\r\n\r\n// FUNCTIONS RESPONSIBLE FOR MANAGING TO DOS\r\n// This function, when called, creates elements to display all the todos inside a specific project\r\nconst updateProjectTaskCount = (numOfToDosInsideAProject) => {\r\n    const taskCountSpan = document.getElementById(\"task-count\");\r\n    taskCountSpan.textContent = numOfToDosInsideAProject;\r\n};\r\n\r\nconst displayAllTodosOfAProject = (dataIndex) => {\r\n    const projectsAndTodosArray = projectsAndTodosManager.getProjects();\r\n\r\n    const taskList = document.querySelector(\".task-list\");\r\n    taskList.textContent = \"\";\r\n\r\n    const ul = document.createElement(\"ul\");\r\n\r\n    for (let i = 0; i < projectsAndTodosArray[dataIndex].todos.length; i++) {\r\n        const li = document.createElement(\"li\");\r\n        li.setAttribute(\"data-index\", i);\r\n\r\n        const div = document.createElement(\"div\");\r\n        div.className = \"to-do\";\r\n\r\n        const input = document.createElement(\"input\");\r\n        input.setAttribute(\"type\", \"checkbox\");\r\n        input.setAttribute(\"id\", `todo${i}`);\r\n        input.setAttribute(\"name\", `todo${i}`);\r\n\r\n        const label = document.createElement(\"label\");\r\n        label.setAttribute(\"for\", `todo${i}`);\r\n        label.textContent = projectsAndTodosArray[dataIndex].todos[i].title;\r\n\r\n        const dueDateP = document.createElement(\"p\");\r\n        dueDateP.textContent = \"some due date\";\r\n\r\n        const editTodoBtn = document.createElement(\"button\");\r\n        editTodoBtn.className = \"edit-to-do\";\r\n        editTodoBtn.textContent = \"Edit todo btn\";\r\n\r\n        const deleteTodoBtn = document.createElement(\"button\");\r\n        deleteTodoBtn.className = \"delete-to-do\";\r\n        deleteTodoBtn.textContent = \"Delete todo btn\";\r\n\r\n        div.append(input, label, dueDateP, editTodoBtn, deleteTodoBtn);\r\n\r\n        li.append(div);\r\n\r\n        ul.append(li);\r\n    }\r\n\r\n    taskList.append(ul);\r\n\r\n    updateProjectTaskCount(projectsAndTodosArray[dataIndex].todos.length);\r\n};\r\n\r\nexport {\r\n    toggleHideOrShowInputForProjectName,\r\n    appendProjectNameToDOM,\r\n    toggleHideOrShowInputForToDoInfo,\r\n    handleClickOnAddTaskButton,\r\n    displayAllTodosOfAProject,\r\n};\r\n","import { appendProjectNameToDOM, displayAllTodosOfAProject } from \"./dom-manager\";\r\n\r\n// This function manages an array of projects (an array of to-do items)\r\n// Each element in the array is an object with an id, projectName, and todos\r\nconst projectsAndToDosManager = () => {\r\n    const projects = [];\r\n\r\n    const getProjects = () => {\r\n        return projects;\r\n    };\r\n\r\n    const addNewProject = () => {\r\n        const projectNameInput = document.getElementById(\"project-name-input\");\r\n\r\n        let id = projects.length;\r\n        let todos = [];\r\n        let projectName = projectNameInput.value;\r\n\r\n        if (projectName === \"\") {\r\n            return;\r\n        }\r\n\r\n        projects.push({ id, projectName, todos });\r\n        appendProjectNameToDOM(projectName, id);\r\n\r\n        projectNameInput.value = \"\";\r\n    };\r\n\r\n    const removeProject = (index) => {\r\n        if (index > -1) {\r\n            projects.splice(index, 1);\r\n        }\r\n\r\n        // Updates the id of all remaining projects in the array to reflect\r\n        // their new position in the projectsManager.projects array\r\n        for (let i = 0; i < projects.length; i++) {\r\n            projects[i].id = i;\r\n        }\r\n    };\r\n\r\n    const addNewTodoToAProject = (toDoInfo, dataIndexOfTheProject) => {\r\n        if (dataIndexOfTheProject < 0 || dataIndexOfTheProject >= projects.length) {\r\n            alert(\"Invalid project index\");\r\n            return;\r\n        }\r\n\r\n        projects[dataIndexOfTheProject].todos.push(toDoInfo);\r\n\r\n        displayAllTodosOfAProject(dataIndexOfTheProject);\r\n\r\n        console.log(projects);\r\n    };\r\n\r\n    return { addNewProject, removeProject, getProjects, addNewTodoToAProject };\r\n};\r\n\r\nexport const projects = projectsAndToDosManager();\r\n","import { projects as projectsAndToDosManager } from \"./modules/projects-and-todos-manager.js\";\r\nimport {\r\n    toggleHideOrShowInputForProjectName,\r\n    toggleHideOrShowInputForToDoInfo,\r\n    handleClickOnAddTaskButton,\r\n    dataIndexOfLastProjectClicked,\r\n} from \"./modules/dom-manager.js\";\r\n\r\n// Handle click on the \"Add Project Button\" in the Projects Menu\r\nconst handleClickOnAddAndCancelProjectNameBtns = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (e.target.id === \"btn-submit-add-project\") {\r\n        projectsAndToDosManager.addNewProject();\r\n    } else if (e.target.id === \"btn-cancel-project\") {\r\n        toggleHideOrShowInputForProjectName();\r\n    }\r\n};\r\n\r\nconst getToDoInfoFromForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData(document.getElementById(\"todo-input-form\"));\r\n    const title = formData.get(\"title\");\r\n    const description = formData.get(\"description\");\r\n    let dueDate = document.getElementById(\"due-date\").value;\r\n\r\n    return { title, description, dueDate };\r\n};\r\n\r\nconst clearToDoInfoInputs = () => {\r\n    // Clear all to do info inputs after adding or canceling a to do\r\n    const inputs = document.querySelectorAll(\"#title, #description, #due-date\");\r\n    inputs.forEach((input) => {\r\n        input.value = \"\";\r\n    });\r\n};\r\n\r\n// Button to create a new project (\"Add Project\" button)\r\ndocument.getElementById(\"add-project-button\").addEventListener(\"click\", toggleHideOrShowInputForProjectName);\r\n\r\n// Form to type project name... it opens when the user clicks on the \"Add Project\" button\r\ndocument.getElementById(\"project-name-input-form\").addEventListener(\"click\", handleClickOnAddAndCancelProjectNameBtns);\r\n\r\n// If user clicks on \"Add Task\" button, it will open a form to insert todo info\r\ndocument.querySelector(\".tasks-container .add-task-button\").addEventListener(\"click\", handleClickOnAddTaskButton);\r\n\r\ndocument.querySelector(\"body\").addEventListener(\"click\", (e) => {\r\n    if (e.target.id === \"btn-add-todo\") {\r\n        // Get to do info from form\r\n        const newTodo = getToDoInfoFromForm(e);\r\n\r\n        // Add new to do to the last project clicked (dataIndexOfLastProjectClicked)\r\n        projectsAndToDosManager.addNewTodoToAProject(newTodo, dataIndexOfLastProjectClicked);\r\n\r\n        // Hide form\r\n        toggleHideOrShowInputForToDoInfo();\r\n\r\n        // Clear all input fields for to do info\r\n        clearToDoInfoInputs();\r\n    } else if (e.target.id === \"btn-cancel-todo\") {\r\n        toggleHideOrShowInputForToDoInfo();\r\n        clearToDoInfoInputs();\r\n    }\r\n});\r\n"],"names":["dataIndexOfLastProjectClicked","toggleHideOrShowInputForProjectName","addProjectButton","document","getElementById","inputFormForProjectName","style","display","toggleHideOrShowInputForToDoInfo","toDoInformationForm","querySelector","appendProjectNameToDOM","projectName","index","ul","li","createElement","textContent","setAttribute","classList","add","createListItemWithProjectName","addEventListener","e","target","className","dataset","projectsArray","projects","getProjects","updateProjectsHeaderOnPage","displayAllTodosOfAProject","project","parentElement","remove","allProjects","querySelectorAll","i","length","removeProjectFromDOM","removeProject","handleClickOnDeleteProjectButton","addEventListenerToProjectNameListItem","deleteBtn","createDeleteProjectButton","appendChild","append","dataIndex","projectsAndTodosArray","taskList","todos","div","input","label","title","dueDateP","editTodoBtn","deleteTodoBtn","numOfToDosInsideAProject","addNewProject","projectNameInput","id","value","push","splice","addNewTodoToAProject","toDoInfo","dataIndexOfTheProject","alert","console","log","projectsAndToDosManager","clearToDoInfoInputs","forEach","preventDefault","newTodo","formData","FormData","get","description","dueDate","getToDoInfoFromForm"],"sourceRoot":""}