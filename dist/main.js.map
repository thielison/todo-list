{"version":3,"file":"main.js","mappings":"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","sources":["webpack://todo-list/./src/modules/dom-manager.js","webpack://todo-list/./src/modules/project-manager.js","webpack://todo-list/./src/index.js"],"sourcesContent":["import { projects as projectsAndTodosManager } from \"./project-manager.js\";\r\n\r\n// Export the updated data index of last project clicked\r\n// This data index will be used to add todos to a specific project\r\nexport let dataIndexOfLastProjectClicked = null;\r\n\r\n// FUNCTIONS RESPONSIBLE FOR MANAGING PROJECTS\r\n// Shows or hides both the form to input Project Name and the \"Add Project\" button\r\nconst toggleHideOrShowInputForProjectName = () => {\r\n    const addProjectButton = document.getElementById(\"add-project-button\");\r\n    const inputFormForProjectName = document.getElementById(\"project-name-input-form\");\r\n\r\n    if (inputFormForProjectName.style.display === \"flex\" && addProjectButton.style.display === \"none\") {\r\n        inputFormForProjectName.style.display = \"none\";\r\n        addProjectButton.style.display = \"flex\";\r\n        return;\r\n    }\r\n\r\n    inputFormForProjectName.style.display = \"flex\";\r\n    addProjectButton.style.display = \"none\";\r\n};\r\n\r\nconst toggleHideOrShowInputForToDoInfo = () => {\r\n    const toDoInformationForm = document.querySelector(\".todo-input-information-container\");\r\n\r\n    if (toDoInformationForm.style.display === \"none\") {\r\n        toDoInformationForm.style.display = \"flex\";\r\n        return;\r\n    }\r\n\r\n    toDoInformationForm.style.display = \"none\";\r\n};\r\n\r\nconst handleClickOnAddTaskButton = () => {\r\n    document.querySelector(\".todo-input-information-container\").style.display = \"block\";\r\n};\r\n\r\n// Define a function to handle project name clicks\r\nconst projectNameClickEventHandler = () => {\r\n    // Update the tasks header with the project name\r\n    const updateProjectsHeaderOnPage = (index) => {\r\n        const projectsArray = projectsAndTodosManager.getProjects();\r\n        const tasksHeader = document.querySelector(\".tasks-container .tasks-header\");\r\n        tasksHeader.textContent = projectsArray[index].projectName;\r\n    };\r\n\r\n    // Display the \"add task\" button on the page\r\n    const showAddTaskButton = () => {\r\n        const addTaskButton = document.querySelector(\".add-task-button\");\r\n        addTaskButton.style.display = \"block\";\r\n    };\r\n\r\n    // Handle a project name click event\r\n    const projectNameClicked = (event) => {\r\n        dataIndexOfLastProjectClicked = event.target.dataset.index;\r\n        updateProjectsHeaderOnPage(dataIndexOfLastProjectClicked);\r\n        displayAllTodosOfAProject(dataIndexOfLastProjectClicked);\r\n        showAddTaskButton();\r\n    };\r\n\r\n    return {\r\n        projectNameClicked,\r\n    };\r\n};\r\n\r\nconst removeProjectFromDOM = (project) => {\r\n    // Removes a project from the DOM\r\n    project.parentElement.remove();\r\n\r\n    // Updates the data-index attribute of all remaining projects in the DOM\r\n    // to reflect their new position in the projectsManager.projects array\r\n    let allProjects = document.querySelectorAll(\".project\");\r\n    for (let i = 0; i < allProjects.length; i++) {\r\n        allProjects[i].setAttribute(\"data-index\", i);\r\n    }\r\n};\r\n\r\n// Function to handle delete project button click\r\nconst handleClickOnDeleteProjectButton = (e) => {\r\n    // Remove the project from the DOM\r\n    removeProjectFromDOM(e.target);\r\n    // And remove the project from the projects array\r\n    projectsAndTodosManager.removeProject(e.target.parentElement.dataset.index);\r\n};\r\n\r\n// Delete project on each project name on the DOM\r\nconst createDeleteProjectButton = () => {\r\n    const deleteBtn = document.createElement(\"span\");\r\n    deleteBtn.className = \"delete-btn\";\r\n    return deleteBtn;\r\n};\r\n\r\n// Create a new list item that hold the name of the project\r\n// The data-index attribute set here on each project in the DOM\r\n// corresponds exactly to the index of the array that holds the Projects\r\nconst createListItemWithProjectName = (projectName, index) => {\r\n    let li = document.createElement(\"li\");\r\n    li.textContent = projectName;\r\n    li.setAttribute(\"data-index\", index);\r\n    li.classList.add(\"project\");\r\n\r\n    return li;\r\n};\r\n\r\n// Function do add an event listener to each list item (project name)\r\nconst addEventListenerToProjectNameListItem = (li) => {\r\n    li.addEventListener(\"click\", (e) => {\r\n        // Check if the clicked element is the delete button\r\n        if (e.target.className === \"delete-btn\") {\r\n            handleClickOnDeleteProjectButton(e);\r\n            return;\r\n        } else {\r\n            const projectsEventHandler = projectNameClickEventHandler();\r\n            projectsEventHandler.projectNameClicked(e);\r\n        }\r\n    });\r\n};\r\n\r\n// Function to append a new project name to the DOM\r\nconst appendProjectNameToDOM = (projectName, index) => {\r\n    // Select the projects unordered list from the DOM\r\n    const ul = document.querySelector(\".projects\");\r\n\r\n    // Create a new list item with project name and data-index\r\n    const li = createListItemWithProjectName(projectName, index);\r\n\r\n    // Add an event listener to each project (list item)\r\n    addEventListenerToProjectNameListItem(li);\r\n\r\n    // Create a delete button for the project\r\n    const deleteBtn = createDeleteProjectButton();\r\n\r\n    li.appendChild(deleteBtn);\r\n    ul.append(li);\r\n\r\n    // Toggle the visibility of the input for the project name\r\n    toggleHideOrShowInputForProjectName();\r\n};\r\n\r\n// FUNCTIONS RESPONSIBLE FOR MANAGING TO DOS\r\n// This function, when called, creates elements to display all the todos inside a specific project\r\nconst displayAllTodosOfAProject = (dataIndex) => {\r\n    const projectsAndTodosArray = projectsAndTodosManager.getProjects();\r\n\r\n    const taskList = document.querySelector(\".task-list\");\r\n    taskList.textContent = \"\";\r\n\r\n    const ul = document.createElement(\"ul\");\r\n\r\n    for (let i = 0; i < projectsAndTodosArray[dataIndex].todos.length; i++) {\r\n        const li = document.createElement(\"li\");\r\n        li.setAttribute(\"data-index\", i);\r\n\r\n        const div = document.createElement(\"div\");\r\n        div.className = \"to-do\";\r\n\r\n        const input = document.createElement(\"input\");\r\n        input.setAttribute(\"type\", \"checkbox\");\r\n        input.setAttribute(\"id\", `todo${i}`);\r\n        input.setAttribute(\"name\", `todo${i}`);\r\n\r\n        const label = document.createElement(\"label\");\r\n        label.setAttribute(\"for\", `todo${i}`);\r\n        label.textContent = projectsAndTodosArray[dataIndex].todos[i].title;\r\n\r\n        const dueDateP = document.createElement(\"p\");\r\n        dueDateP.textContent = \"some due date\";\r\n\r\n        const editTodoBtn = document.createElement(\"button\");\r\n        editTodoBtn.className = \"edit-to-do\";\r\n        editTodoBtn.textContent = \"Edit todo btn\";\r\n\r\n        const deleteTodoBtn = document.createElement(\"button\");\r\n        deleteTodoBtn.className = \"delete-to-do\";\r\n        deleteTodoBtn.textContent = \"Delete todo btn\";\r\n\r\n        div.append(input, label, dueDateP, editTodoBtn, deleteTodoBtn);\r\n\r\n        li.append(div);\r\n\r\n        ul.append(li);\r\n    }\r\n\r\n    taskList.append(ul);\r\n};\r\n\r\nexport {\r\n    toggleHideOrShowInputForProjectName,\r\n    appendProjectNameToDOM,\r\n    toggleHideOrShowInputForToDoInfo,\r\n    handleClickOnAddTaskButton,\r\n    displayAllTodosOfAProject,\r\n};\r\n","import { appendProjectNameToDOM, displayAllTodosOfAProject } from \"./dom-manager\";\r\n\r\n// This function manages an array of projects (an array of to-do items)\r\n// Each element in the array is an object with an id, projectName, and todos\r\nconst projectsAndToDosManager = () => {\r\n    const projects = [];\r\n\r\n    const getProjects = () => {\r\n        return projects;\r\n    };\r\n\r\n    const addNewProject = () => {\r\n        const projectNameInput = document.getElementById(\"project-name-input\");\r\n\r\n        let id = projects.length;\r\n        let todos = [];\r\n        let projectName = projectNameInput.value;\r\n\r\n        if (projectName === \"\") {\r\n            return;\r\n        }\r\n\r\n        projects.push({ id, projectName, todos });\r\n        appendProjectNameToDOM(projectName, id);\r\n\r\n        projectNameInput.value = \"\";\r\n    };\r\n\r\n    const removeProject = (index) => {\r\n        if (index > -1) {\r\n            projects.splice(index, 1);\r\n        }\r\n\r\n        // Updates the id of all remaining projects in the array to reflect\r\n        // their new position in the projectsManager.projects array\r\n        for (let i = 0; i < projects.length; i++) {\r\n            projects[i].id = i;\r\n        }\r\n    };\r\n\r\n    const addNewTodoToAProject = (toDoInfo, dataIndexOfTheProject) => {\r\n        if (dataIndexOfTheProject < 0 || dataIndexOfTheProject >= projects.length) {\r\n            alert(\"Invalid project index\");\r\n            return;\r\n        }\r\n\r\n        projects[dataIndexOfTheProject].todos.push(toDoInfo);\r\n\r\n        displayAllTodosOfAProject(dataIndexOfTheProject);\r\n\r\n        console.log(projects);\r\n    };\r\n\r\n    return { addNewProject, removeProject, getProjects, addNewTodoToAProject };\r\n};\r\n\r\nexport const projects = projectsAndToDosManager();\r\n","import { projects as projectsAndToDosManager } from \"./modules/project-manager.js\";\r\nimport {\r\n    toggleHideOrShowInputForProjectName,\r\n    toggleHideOrShowInputForToDoInfo,\r\n    handleClickOnAddTaskButton,\r\n    dataIndexOfLastProjectClicked,\r\n} from \"./modules/dom-manager.js\";\r\n\r\n// Handle click on the \"Add Project Button\" in the Projects Menu\r\nconst handleClickOnAddAndCancelProjectNameBtns = (submitProjectBtn) => {\r\n    submitProjectBtn.preventDefault();\r\n\r\n    if (submitProjectBtn.target.textContent === \"Add\") {\r\n        projectsAndToDosManager.addNewProject();\r\n    } else if (submitProjectBtn.target.textContent === \"Cancel\") {\r\n        toggleHideOrShowInputForProjectName();\r\n    }\r\n};\r\n\r\nconst getToDoInfoFromForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData(document.getElementById(\"todo-input-form\"));\r\n    const title = formData.get(\"title\");\r\n    const description = formData.get(\"description\");\r\n    let dueDate = document.getElementById(\"due-date\").value;\r\n\r\n    return { title, description, dueDate };\r\n};\r\n\r\n// Button to create a new project (\"Add Project\" button)\r\ndocument.getElementById(\"add-project-button\").addEventListener(\"click\", toggleHideOrShowInputForProjectName);\r\n\r\n// Form to type project name... it opens when the user clicks on the \"Add Project\" button\r\ndocument.getElementById(\"project-name-input-form\").addEventListener(\"click\", handleClickOnAddAndCancelProjectNameBtns);\r\n\r\n// If user clicks on \"Add Task\" button, it will open a form to insert todo info\r\ndocument.querySelector(\".tasks-container .add-task-button\").addEventListener(\"click\", handleClickOnAddTaskButton);\r\n\r\ndocument.querySelector(\"body\").addEventListener(\"click\", (e) => {\r\n    if (e.target.id === \"btn-add-todo\") {\r\n        const newTodo = getToDoInfoFromForm(e);\r\n        projectsAndToDosManager.addNewTodoToAProject(newTodo, dataIndexOfLastProjectClicked);\r\n    } else if (e.target.id === \"btn-cancel-todo\") {\r\n        toggleHideOrShowInputForToDoInfo();\r\n    }\r\n});\r\n"],"names":["dataIndexOfLastProjectClicked","toggleHideOrShowInputForProjectName","addProjectButton","document","getElementById","inputFormForProjectName","style","display","appendProjectNameToDOM","projectName","index","ul","querySelector","li","createElement","textContent","setAttribute","classList","add","createListItemWithProjectName","addEventListener","e","target","className","dataset","projectsArray","projects","getProjects","updateProjectsHeaderOnPage","displayAllTodosOfAProject","project","parentElement","remove","allProjects","querySelectorAll","i","length","removeProjectFromDOM","removeProject","handleClickOnDeleteProjectButton","addEventListenerToProjectNameListItem","deleteBtn","createDeleteProjectButton","appendChild","append","dataIndex","projectsAndTodosArray","taskList","todos","div","input","label","title","dueDateP","editTodoBtn","deleteTodoBtn","addNewProject","projectNameInput","id","value","push","splice","addNewTodoToAProject","toDoInfo","dataIndexOfTheProject","alert","console","log","projectsAndToDosManager","submitProjectBtn","preventDefault","newTodo","formData","FormData","get","description","dueDate","getToDoInfoFromForm","toDoInformationForm","toggleHideOrShowInputForToDoInfo"],"sourceRoot":""}